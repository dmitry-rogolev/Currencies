(function(){"use strict";var e={1222:function(e,t,n){var a=n(4870),o=n(9242),s=n(65),l=n(7387),r=n.n(l),i=n(2483),u=n(7139),c=n(3396);const d={key:0,class:(0,u.C_)(["card","text-dark","p-0"])},m={class:"card-header"},p={class:(0,u.C_)(["card-title","text-center"])},v={class:"mb-2"},b=["value"],h={class:"mb-2"},f=["value"],w={class:"mb-2"},g={class:"card-body"},_={class:"table"},C=(0,c._)("thead",null,[(0,c._)("tr",null,[(0,c._)("th",null,"Цифр. код"),(0,c._)("th",null,"Букв. код"),(0,c._)("th",null,"Единиц"),(0,c._)("th",null,"Валюта"),(0,c._)("th",null,"Курс")])],-1);function y(e,t,n,a,o,s){const l=(0,c.up)("SelectComponent"),r=(0,c.up)("InputComponent"),i=(0,c.up)("ModalComponent"),y=(0,c.up)("FlexComponent"),k=(0,c.up)("SpinnerComponent");return(0,c.wg)(),(0,c.j4)(y,{classes:["justify-content-center","align-items-center","min-vh-100","bg-secondary","p-3"]},{default:(0,c.w5)((()=>[s.currencies?((0,c.wg)(),(0,c.iD)("div",d,[(0,c._)("div",m,[(0,c._)("h3",p,(0,u.zw)(s.header),1),(0,c.Wm)(y,{classes:"justify-content-center"},{default:(0,c.w5)((()=>[(0,c.Wm)(i,{onSave:s.settings,onShow:s.beforeSettings,buttonClasses:"btn-dark",title:"Настройки",header:"Настройки"},{button:(0,c.w5)((()=>[(0,c.Uk)(" Настройки ")])),window:(0,c.w5)((()=>[(0,c._)("form",null,[(0,c._)("div",v,[(0,c.Wm)(l,{modelValue:o.dataLoads,"onUpdate:modelValue":t[0]||(t[0]=e=>o.dataLoads=e),name:"loads[]",label:"Загружаемые валюты",multiple:""},{default:(0,c.w5)((()=>[((0,c.wg)(!0),(0,c.iD)(c.HY,null,(0,c.Ko)(s.originals,(e=>((0,c.wg)(),(0,c.iD)("option",{key:e.num_code,value:e.num_code},(0,u.zw)(e.char_code)+" | "+(0,u.zw)(e.name),9,b)))),128))])),_:1},8,["modelValue"])]),(0,c._)("div",h,[(0,c.Wm)(l,{modelValue:o.dataVisibles,"onUpdate:modelValue":t[1]||(t[1]=e=>o.dataVisibles=e),name:"visible[]",label:"Отображаемые валюты",multiple:""},{default:(0,c.w5)((()=>[((0,c.wg)(!0),(0,c.iD)(c.HY,null,(0,c.Ko)(s.visibles,(e=>((0,c.wg)(),(0,c.iD)("option",{key:e.num_code,value:e.num_code},(0,u.zw)(e.char_code)+" | "+(0,u.zw)(e.name),9,f)))),128))])),_:1},8,["modelValue"])]),(0,c._)("div",w,[(0,c.Wm)(r,{modelValue:o.dataInterval,"onUpdate:modelValue":t[2]||(t[2]=e=>o.dataInterval=e),name:"interval",type:"number",label:"Интервал обновления данных в секундах"},null,8,["modelValue"])])])])),_:1},8,["onSave","onShow"])])),_:1})]),(0,c._)("div",g,[(0,c._)("table",_,[C,(0,c._)("tbody",null,[((0,c.wg)(!0),(0,c.iD)(c.HY,null,(0,c.Ko)(s.currencies,(e=>((0,c.wg)(),(0,c.iD)("tr",{key:e.num_code},[(0,c._)("td",null,(0,u.zw)(e.num_code),1),(0,c._)("td",null,(0,u.zw)(e.char_code),1),(0,c._)("td",null,(0,u.zw)(e.nominal),1),(0,c._)("td",null,(0,u.zw)(e.name),1),(0,c._)("td",{class:(0,u.C_)([1===e.changes?"currency-up":"",-1===e.changes?"currency-down":""])},(0,u.zw)(e.value),3)])))),128))])])])])):((0,c.wg)(),(0,c.j4)(k,{key:1,classes:"text-light"}))])),_:1})}var k={name:"WelcomeComponent",computed:{header(){return this.$store.state.header},currencies(){return this.$store.state.currencies},originals(){return this.$store.state.originals},visibles(){return this.$store.state.visibles},interval(){return this.$store.state.interval},token(){return this.$store.state.token}},data(){return{dataLoads:[],dataVisibles:[],dataInterval:null}},methods:{beforeSettings(){this.dataInterval=this.interval},async settings(){let e=this.interval;this.$store.commit("currencies",null),this.$store.commit("visibles",null),this.$store.commit("interval",null);let t=await r().ajax({url:"/settings",method:"POST",data:{_token:this.token,loads:JSON.stringify(this.dataLoads),visibles:JSON.stringify(this.dataVisibles),interval:this.dataInterval!=e?this.dataInterval:null},headers:{"X-CSRF-TOKEN":this.token}});this.$store.commit("currencies",t.currencies),this.$store.commit("visibles",t.visibles),this.$store.commit("interval",t.interval),this.dataLoads=[],this.dataVisibles=[],this.dataInterval=null}},beforeMount(){this.$store.dispatch("currencies")}},$=n(89);const S=(0,$.Z)(k,[["render",y]]);var Z=S,W=n(878),V=n(8829),j=n(2575),x=new WeakMap,O=new WeakMap,D=new WeakMap,I=new WeakMap,M=new WeakMap;class z{constructor(e,t){if((0,W.Z)(this,x,{writable:!0,value:void 0}),(0,W.Z)(this,O,{writable:!0,value:void 0}),(0,W.Z)(this,D,{writable:!0,value:void 0}),(0,W.Z)(this,I,{writable:!0,value:void 0}),(0,W.Z)(this,M,{writable:!0,value:void 0}),"string"!=typeof e)throw new Error("path должен быть типом String");(0,j.Z)(this,x,e.startsWith("/")?e:"/".concat(e)),(0,j.Z)(this,O,t)}static new(e="",t){return new z(e,t)}name(e){return"string"==typeof e&&(0,j.Z)(this,D,e),this}children(e=[]){return(0,j.Z)(this,I,e),this}beforeEnter(e){return(0,j.Z)(this,M,e),this}get(){return{path:(0,V.Z)(this,x),name:(0,V.Z)(this,D),component:(0,V.Z)(this,O),children:(0,V.Z)(this,I),beforeEnter:(0,V.Z)(this,M)}}}var H=z,P=[H["new"]("",Z).name("welcome").get()],T=P;const q=(0,i.p7)({history:(0,i.PO)(),routes:T});var E=q,F=n(680),Y={install(e){e.config.globalProperties.$cookie=F.Z}},U={install(e){e.config.globalProperties.$jquery=r()}},K=n(2166),L={install(e){e.config.globalProperties.$bootstrap=K}};function B(e,t,n,a,o,s){const l=(0,c.up)("router-view");return(0,c.wg)(),(0,c.j4)(l)}var G={name:"App"};const N=(0,$.Z)(G,[["render",B]]);var Q=N;function R(e,t,n,a,o,s){return(0,c.wg)(),(0,c.iD)("div",{class:(0,u.C_)(["d-flex",n.classes])},[(0,c.WI)(e.$slots,"default")],2)}var J={name:"FlexComponent",props:["classes"]};const X=(0,$.Z)(J,[["render",R]]);var A=X;function ee(e,t,n,a,o,s){const l=(0,c.up)("ButtonComponent"),r=(0,c.up)("WindowComponent");return(0,c.wg)(),(0,c.iD)(c.HY,null,[(0,c.Wm)(l,(0,c.dG)({onShow:t[0]||(t[0]=t=>e.$emit("show")),target:o.id,title:n.title,classes:n.buttonClasses},e.$attrs),{default:(0,c.w5)((()=>[(0,c.WI)(e.$slots,"button")])),_:3},16,["target","title","classes"]),(0,c.Wm)(r,{onSave:t[1]||(t[1]=e=>s.close(!0)),onClose:s.close,id:o.id,title:n.header,classes:n.windowClasses},{default:(0,c.w5)((()=>[(0,c.WI)(e.$slots,"window")])),_:3},8,["onClose","id","title","classes"])],64)}const te=["data-bs-target"];function ne(e,t,n,a,o,s){return(0,c.wg)(),(0,c.iD)("button",{onClick:t[0]||(t[0]=t=>e.$emit("show")),type:"button",class:(0,u.C_)(["btn",n.classes]),"data-bs-toggle":"modal","data-bs-target":"#"+n.target},[(0,c.WI)(e.$slots,"default")],10,te)}var ae={name:"ButtonComponent",props:["classes","target"]};const oe=(0,$.Z)(ae,[["render",ne]]);var se=oe;const le=["aria-labelledby"],re={class:"modal-dialog modal-dialog-centered"},ie={class:(0,u.C_)(["modal-content","bg-light","border-light","text-dark"]),style:{"border-radius":"15px"}},ue={class:"modal-header border-secondary border-bottom-0"},ce=["id"],de={class:"modal-body"},me={class:"modal-footer border-top-0"};function pe(e,t,n,a,o,s){const l=(0,c.up)("QuitComponent"),r=(0,c.up)("CloseComponent"),i=(0,c.up)("SaveComponent");return(0,c.wg)(),(0,c.iD)("section",{class:(0,u.C_)(["modal","fade",n.classes]),tabindex:"-1","aria-labelledby":o.id,"aria-hidden":"true"},[(0,c._)("div",re,[(0,c._)("div",ie,[(0,c._)("div",ue,[(0,c._)("h4",{class:"modal-title mb-0",id:o.id},(0,u.zw)(n.title),9,ce),(0,c.Wm)(l,{onClose:t[0]||(t[0]=t=>e.$emit("close"))})]),(0,c._)("div",de,[(0,c.WI)(e.$slots,"default")]),(0,c._)("div",me,[(0,c.Wm)(r,{onClose:t[1]||(t[1]=t=>e.$emit("close"))}),(0,c.Wm)(i,{onSave:t[2]||(t[2]=t=>e.$emit("save"))})])])])],10,le)}function ve(e,t,n,a,o,s){return(0,c.wg)(),(0,c.iD)("button",{onClick:t[0]||(t[0]=t=>e.$emit("close")),type:"button",class:(0,u.C_)(["btn-close",n.classes]),"aria-label":"Закрыть"},null,2)}var be={name:"QuitComponent",props:["classes"],computed:{theme(){return this.$store.state.theme}}};const he=(0,$.Z)(be,[["render",ve]]);var fe=he;function we(e,t,n,a,o,s){return(0,c.wg)(),(0,c.iD)("button",{onClick:t[0]||(t[0]=t=>e.$emit("close")),type:"button",class:(0,u.C_)(["btn","btn-secondary",n.classes]),"aria-label":"Закрыть"}," Закрыть ",2)}var ge={name:"CloseComponent",props:["classes"]};const _e=(0,$.Z)(ge,[["render",we]]);var Ce=_e;function ye(e,t,n,a,o,s){return(0,c.wg)(),(0,c.iD)("button",{onClick:t[0]||(t[0]=t=>e.$emit("save")),type:"button",class:(0,u.C_)(["btn","btn-primary",n.classes])}," Сохранить ",2)}var ke={name:"SaveComponent",props:["classes"]};const $e=(0,$.Z)(ke,[["render",ye]]);var Se=$e;const Ze=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z",1,2,3,4,5,6,7,8,9,0];function We(e="id_",t=60){for(var n=e,a=0;a<t;a++)n+=Ze[Ve(0,Ze.length-1)];return n}function Ve(e=0,t=100){return Math.floor(Math.random()*(t-e))+e}var je={name:"WindowComponent",components:{QuitComponent:fe,CloseComponent:Ce,SaveComponent:Se},props:{classes:String,title:String},data(){return{id:We()}}};const xe=(0,$.Z)(je,[["render",pe]]);var Oe=xe,De={name:"ModalComponent",components:{ButtonComponent:se,WindowComponent:Oe},props:["title","header","buttonClasses","windowClasses"],data(){return{id:We()}},methods:{close(e=!1){this.$bootstrap.Modal.getInstance(document.getElementById(this.id)).hide(),e&&this.$emit("save")}}};const Ie=(0,$.Z)(De,[["render",ee]]);var Me=Ie;const ze=(0,c._)("span",{class:"visually-hidden"},"Загрузка...",-1),He=[ze];function Pe(e,t,n,a,o,s){const l=(0,c.up)("FlexComponent");return(0,c.wg)(),(0,c.j4)(l,{classes:"justify-content-center"},{default:(0,c.w5)((()=>[(0,c._)("div",(0,c.dG)({class:["spinner-border",n.classes],role:"status"},e.$attrs),He,16)])),_:1})}var Te={name:"SinnerComponent",props:["classes"]};const qe=(0,$.Z)(Te,[["render",Pe]]);var Ee=qe;const Fe=["for"],Ye=["id","aria-label"];function Ue(e,t,n,a,s,l){return(0,c.wg)(),(0,c.iD)(c.HY,null,[n.label?((0,c.wg)(),(0,c.iD)("label",{key:0,for:s.id,class:"form-label"},(0,u.zw)(n.label),9,Fe)):(0,c.kq)("",!0),(0,c.wy)((0,c._)("select",(0,c.dG)({"onUpdate:modelValue":t[0]||(t[0]=e=>l.value=e),id:n.label,class:["form-select",n.classes],"aria-label":n.label},e.$attrs),[(0,c.WI)(e.$slots,"default")],16,Ye),[[o.bM,l.value]])],64)}var Ke={name:"SelectComponent",props:["classes","label","modelValue"],data(){return{id:We()}},emits:["update:modelValue"],computed:{value:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}}}};const Le=(0,$.Z)(Ke,[["render",Ue]]);var Be=Le;const Ge=["for"],Ne=["id","aria-describedby"],Qe=["id"];function Re(e,t,n,a,s,l){return(0,c.wg)(),(0,c.iD)(c.HY,null,[n.label?((0,c.wg)(),(0,c.iD)("label",{key:0,for:s.id,class:"form-label"},(0,u.zw)(n.label),9,Ge)):(0,c.kq)("",!0),(0,c.wy)((0,c._)("input",(0,c.dG)({"onUpdate:modelValue":t[0]||(t[0]=e=>l.value=e),class:["form-control","form-control-lg","bg-light","text-dark","border-dark",n.classes],id:s.id,"aria-describedby":s.aria},e.$attrs),null,16,Ne),[[o.YZ,l.value]]),n.small?((0,c.wg)(),(0,c.iD)("small",{key:1,id:s.aria,class:"form-text text-muted"},(0,u.zw)(n.small),9,Qe)):(0,c.kq)("",!0)],64)}var Je={name:"InputComponent",data(){return{id:We(),aria:We()}},props:["label","small","classes","modelValue"],emits:["update:modelValue"],computed:{value:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}}}};const Xe=(0,$.Z)(Je,[["render",Re]]);var Ae=Xe;const et=(0,s.MT)({state(){return{header:null,currencies:null,originals:null,visibles:null,interval:null,token:r()('meta[name="csrf-token"]').attr("content")}},mutations:{header(e,t){e.header=(0,a.iH)(t)},currencies(e,t){e.currencies=t?(0,a.qj)(t):(0,a.iH)(t)},originals(e,t){e.originals=t?(0,a.qj)(t):(0,a.iH)(t)},visibles(e,t){e.visibles=t?(0,a.qj)(t):(0,a.iH)(t)},interval(e,t){e.interval=(0,a.iH)(t)},token(e,t){e.token=(0,a.iH)(t),r()('meta[name="csrf-token"]').attr("content",t)}},actions:{async currencies(e){let t=await r().ajax({url:"/",method:"POST",data:{_token:e.state.token},headers:{"X-CSRF-TOKEN":e.state.token}});e.commit("header",t.header),e.commit("currencies",t.currencies),e.commit("originals",t.originals),e.commit("visibles",t.visibles),e.commit("interval",t.interval)}}}),tt=(0,o.ri)(Q);tt.config.unwrapInjectedRef=!0,tt.use(et),tt.use(E),tt.use(Y),tt.use(U),tt.use(L),tt.component("FlexComponent",A),tt.component("ModalComponent",Me),tt.component("SpinnerComponent",Ee),tt.component("SelectComponent",Be),tt.component("InputComponent",Ae),tt.mount("#app")}},t={};function n(a){var o=t[a];if(void 0!==o)return o.exports;var s=t[a]={exports:{}};return e[a].call(s.exports,s,s.exports,n),s.exports}n.m=e,function(){var e=[];n.O=function(t,a,o,s){if(!a){var l=1/0;for(c=0;c<e.length;c++){a=e[c][0],o=e[c][1],s=e[c][2];for(var r=!0,i=0;i<a.length;i++)(!1&s||l>=s)&&Object.keys(n.O).every((function(e){return n.O[e](a[i])}))?a.splice(i--,1):(r=!1,s<l&&(l=s));if(r){e.splice(c--,1);var u=o();void 0!==u&&(t=u)}}return t}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[a,o,s]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,a){var o,s,l=a[0],r=a[1],i=a[2],u=0;if(l.some((function(t){return 0!==e[t]}))){for(o in r)n.o(r,o)&&(n.m[o]=r[o]);if(i)var c=i(n)}for(t&&t(a);u<l.length;u++)s=l[u],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return n.O(c)},a=self["webpackChunk"]=self["webpackChunk"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=n.O(void 0,[998],(function(){return n(1222)}));a=n.O(a)})();
//# sourceMappingURL=app.bfe141f1.js.map